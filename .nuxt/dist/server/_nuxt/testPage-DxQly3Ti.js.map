{"version":3,"file":"testPage-DxQly3Ti.js","sources":["../../../../pages/testPage.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useRoute } from 'vue-router'\nimport MarkdownIt from 'markdown-it'\n\nconst md = new MarkdownIt()\n\nconst route = useRoute()\nconst slug = route.params.slug\n\nconst { data: recipe } = await useAsyncData('recipe', () =>\n  queryCollection('recipes').path(`/recipes/banana`).first()\n)\n\n// Determine if ingredients are grouped\nconst ingredientsSplit = computed(() =>\n  recipe.value && !Array.isArray(recipe.value.ingredients)\n)\n\nconst descriptionLongHTML = computed(() => {\n  const raw = recipe.value?.description_long || ''\n  return md.render(raw.replace(/\\\\n/g, '\\n')) // Replace literal \\n with real line breaks\n})\n\nconst parseIngredient = (item: string): string => {\n  const linkRegex = /\\((\\/[^\\s)]+)\\)/ // Matches (link) pattern\n  const match = item.match(linkRegex)\n\n  if (match) {\n    const text = item.replace(linkRegex, '').trim()\n    const href = match[1]\n    return `<a href=\"${href}\" class=\"text-green-600 underline hover:text-green-800\">${text}</a>`\n  } else {\n    return item\n  }\n}\n\n\nwatchEffect(() => {\n  if (recipe.value) {\n    console.log('Recipe:', recipe.value)\n  }\n})\n</script>\n\n<template>\n  <div v-if=\"recipe\" class=\"mx-4 sm:mx-auto mt-10 mb-16 w-full max-w-3xl bg-white shadow-xl rounded-xl p-4 sm:p-8\">\n    <img v-if=\"recipe.image\" :src=\"recipe.image\" :alt=\"recipe.title\"\n      class=\"w-full h-48 sm:h-64 object-cover rounded-lg mb-6\" />\n    <h1 class=\"text-2xl sm:text-4xl font-bold mb-4 text-gray-900\">{{ recipe.title }}</h1>\n    <p class=\"text-base sm:text-lg text-gray-600 mb-8\">{{ recipe.description }}</p>\n\n    <!-- Long description -->\n    <div v-if=\"descriptionLongHTML\" class=\"text-gray-700 mb-6 prose\" v-html=\"descriptionLongHTML\"></div>\n\n    <!-- Ingredients -->\n    <section>\n      <h2 class=\"text-2xl font-semibold text-green-700 mb-3\">Ingredients</h2>\n\n      <!-- Flat list version -->\n      <ul v-if=\"!ingredientsSplit\" class=\"list-disc list-inside space-y-1 text-gray-800\">\n        <li v-for=\"item in recipe.ingredients\" :key=\"item\" v-html=\"parseIngredient(item)\"></li>\n      </ul>\n\n      <!-- Sectioned list version -->\n      <div v-else class=\"space-y-4\">\n        <div v-for=\"(items, section) in recipe.ingredients\" :key=\"section\">\n          <h3 class=\"text-xl font-semibold text-green-600 mb-1 capitalize\">\n            {{ section.replace(/_/g, ' ') }}\n          </h3>\n          <ul class=\"list-disc list-inside space-y-1 text-gray-800\">\n            <li v-for=\"item in items\" :key=\"item\" v-html=\"parseIngredient(item)\"></li>\n          </ul>\n        </div>\n      </div>\n    </section>\n\n\n    <!-- Instructions -->\n    <section class=\"mt-8\">\n      <h2 class=\"text-2xl font-semibold text-green-700 mb-3\">Instructions</h2>\n      <ol class=\"list-decimal list-inside space-y-2 text-gray-800\">\n        <li v-for=\"step in recipe.instructions\" :key=\"step\">{{ step }}</li>\n      </ol>\n    </section>\n  </div>\n\n  <div v-else class=\"text-center text-gray-500 py-20\">\n    <p>Recipe not found.</p>\n  </div>\n</template>\n"],"names":["_withAsyncContext","_unref","_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAIM,UAAA,KAAK,IAAI,WAAW;AAE1B,UAAM,QAAQ,SAAS;AACV,UAAM,OAAO;AAEpB,UAAA,EAAE,MAAM,YAAiB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA;AAAA,MAAa;AAAA,MAAU,MACpD,gBAAgB,SAAS,EAAE,KAAK,iBAAiB,EAAE,MAAM;AAAA,IAC3D,CAAA;AAGA,UAAM,mBAAmB;AAAA,MAAS,MAChC,OAAO,SAAS,CAAC,MAAM,QAAQ,OAAO,MAAM,WAAW;AAAA,IACzD;AAEM,UAAA,sBAAsB,SAAS,MAAM;;AACnC,YAAA,QAAM,YAAO,UAAP,mBAAc,qBAAoB;AAC9C,aAAO,GAAG,OAAO,IAAI,QAAQ,QAAQ,IAAI,CAAC;AAAA,IAAA,CAC3C;AAEK,UAAA,kBAAkB,CAAC,SAAyB;AAChD,YAAM,YAAY;AACZ,YAAA,QAAQ,KAAK,MAAM,SAAS;AAElC,UAAI,OAAO;AACT,cAAM,OAAO,KAAK,QAAQ,WAAW,EAAE,EAAE,KAAK;AACxC,cAAA,OAAO,MAAM,CAAC;AACb,eAAA,YAAY,IAAI,2DAA2D,IAAI;AAAA,MAAA,OACjF;AACE,eAAA;AAAA,MAAA;AAAA,IAEX;AAGA,gBAAY,MAAM;AAChB,UAAI,OAAO,OAAO;AACR,gBAAA,IAAI,WAAW,OAAO,KAAK;AAAA,MAAA;AAAA,IACrC,CACD;;AAIY,UAAAC,MAAM,MAAA,GAAA;AAAE,cAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,2FAAuF,MAAA,CAAA,CAAA,GAAA;AACnG,YAAAF,MAAA,MAAA,EAAO,OAAK;qCAAG,OAAKA,MAAM,MAAA,EAAC,KAAK,kBAAG,OAAKA,MAAM,MAAA,EAAC,KAAK;;;;+EAEEG,eAAAH,MAAA,MAAA,EAAO,KAAK,4DACvBG,eAAAH,MAAA,MAAA,EAAO,WAAW;AAG7D,YAAAA,MAAmB,mBAAA,GAAA;yDAA2CA,MAAmB,mBAAA,KAAA,EAAA,QAAA;AAAA,QAAA;;;;aAO/EA,MAAgB,gBAAA,GAAA;;wBACNA,MAAM,MAAA,EAAC,aAAW,CAA1B,SAAI;AAA4C,kBAAA,OAAA,gBAAgB,IAAI,KAAA,EAAA,OAAA;AAAA,UAAA;;;;AAK/CI,wBAAAJ,MAAA,MAAA,EAAO,aAA1B,CAAA,OAAO,YAAO;AAEpB,kBAAA,yEAAAG,eAAA,QAAQ,QAAO,MAAA,GAAA,CAAA,CAAA,yEAAA;AAGCC,0BAAA,QAAR,SAAI;AAA+B,oBAAA,OAAA,gBAAgB,IAAI,KAAA,EAAA,OAAA;AAAA,YAAA;;;;;;sBAWnDJ,MAAM,MAAA,EAAC,cAAY,CAA3B,SAAI;sCAAwC,IAAI,CAAA,OAAA;AAAA,QAAA;;;AAKrD,cAAA,OAAAC,eAAAC,WAAA,EAAA,OAAM,qCAAiC,MAAA,CAAA,CAAA,iCAAA;AAAA,MAAA;AAAA;;;;;;;;;"}