{"file":"index-2bNQfAb8.js","mappings":"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","names":["_withAsyncContext","_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_ssrRenderList","_unref","_ssrRenderClass","_push","_parent","_createBlock","_createVNode","_toDisplayString"],"sources":["../../../../pages/recipes/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, ref, watch, watchEffect } from 'vue'\nimport type { RecipeLang } from '~/composables/useRecipeLanguage'\n\ntype RecipeListItem = {\n    path: string\n    title?: string\n    description?: string\n    tags?: string[]\n    category?: string\n    image?: string\n}\n\nconst { language, setLanguage, supportedLanguages } = useRecipeLanguage()\n\nconst copyByLanguage: Record<RecipeLang, {\n    title: string\n    searchPlaceholder: string\n    all: string\n    noResults: string\n    languageLabel: string\n    recipeImageAlt: string\n}> = {\n    en: {\n        title: 'All Recipes',\n        searchPlaceholder: 'Search recipes...',\n        all: 'All',\n        noResults: 'No recipes found.',\n        languageLabel: 'Language',\n        recipeImageAlt: 'Recipe image'\n    },\n    nl: {\n        title: 'Alle Recepten',\n        searchPlaceholder: 'Zoek recepten...',\n        all: 'Alles',\n        noResults: 'Geen recepten gevonden.',\n        languageLabel: 'Taal',\n        recipeImageAlt: 'Afbeelding van recept'\n    }\n}\n\nconst copy = computed(() => copyByLanguage[language.value])\n\nconst { data: recipes } = await useAsyncData('recipeData', () => queryCollection('recipes').all())\n\nconst searchQuery = ref('')\nconst activeCategory = ref<string | null>(null)\n\nconst isRecipeLang = (value: string): value is RecipeLang => value === 'en' || value === 'nl'\n\nfunction extractLanguageFromPath(path: string): RecipeLang | null {\n    const parts = path.split('/').filter(Boolean)\n    const candidate = parts[1]\n    return candidate && isRecipeLang(candidate) ? candidate : null\n}\n\nconst recipesForLanguage = computed(() => {\n    const recipeCollection = (recipes.value ?? []) as RecipeListItem[]\n    return recipeCollection.filter((recipe) => extractLanguageFromPath(recipe.path) === language.value)\n})\n\nconst categories = computed(() => {\n    const categoriesSet = new Set<string>()\n    recipesForLanguage.value.forEach((recipe) => {\n        if (recipe.category) {\n            categoriesSet.add(recipe.category)\n        }\n    })\n\n    return Array.from(categoriesSet)\n})\n\nconst filteredRecipes = computed(() => {\n    const q = searchQuery.value.trim().toLowerCase()\n\n    return recipesForLanguage.value.filter((recipe) => {\n        const matchesSearch =\n            !q ||\n            recipe.title?.toLowerCase().includes(q) ||\n            recipe.description?.toLowerCase().includes(q) ||\n            recipe.tags?.some((tag) => tag.toLowerCase().includes(q))\n\n        const matchesCategory = !activeCategory.value || recipe.category === activeCategory.value\n\n        return matchesSearch && matchesCategory\n    })\n})\n\nwatch(language, () => {\n    activeCategory.value = null\n})\n\nwatchEffect(() => {\n    useSeoMeta({\n        title: `Jesse's Leafy Feasts - ${copy.value.title}`,\n        description:\n            'Explore a collection of delicious plant-based recipes that celebrate fresh flavors and nourishing greens. Dive into seasonal delights and leafy goodness served with love.'\n    })\n})\n</script>\n\n<template>\n    <div class=\"max-w-6xl mx-auto px-4 py-10\">\n        <h1 class=\"text-3xl font-bold mb-6 text-center\">{{ copy.title }}</h1>\n\n        <div class=\"mb-6 flex items-center justify-center gap-2\">\n            <span class=\"text-sm font-medium text-gray-700\">{{ copy.languageLabel }}:</span>\n            <button v-for=\"option in supportedLanguages\" :key=\"option.code\"\n                class=\"px-3 py-1 text-sm rounded-full border transition-colors\" :class=\"language === option.code\n                    ? 'bg-green-600 text-white border-green-600'\n                    : 'bg-white text-gray-700 border-gray-300'\" @click=\"setLanguage(option.code)\">\n                {{ option.label }}\n            </button>\n        </div>\n\n        <!-- Search Box -->\n        <div class=\"mb-4 max-w-md mx-auto\">\n            <input v-model=\"searchQuery\" type=\"text\" :placeholder=\"copy.searchPlaceholder\"\n                class=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:border-blue-300\" />\n        </div>\n\n        <!-- Category Buttons -->\n        <div class=\"mb-8 flex flex-wrap gap-2 justify-center\">\n            <button class=\"px-3 py-1 text-sm rounded-full border transition-colors\" :class=\"!activeCategory\n                ? 'bg-gray-900 text-white border-gray-900'\n                : 'bg-white text-gray-700 border-gray-300'\" @click=\"activeCategory = null\">\n                {{ copy.all }}\n            </button>\n\n            <button v-for=\"category in categories\" :key=\"category\"\n                class=\"px-3 py-1 text-sm rounded-full border transition-colors\" :class=\"activeCategory === category\n                    ? 'bg-gray-900 text-white border-gray-900'\n                    : 'bg-white text-gray-700 border-gray-300'\" @click=\"activeCategory = category\">\n                {{ category }}\n            </button>\n        </div>\n\n        <!-- Recipes Grid -->\n        <ul class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <li v-for=\"recipe in filteredRecipes\" :key=\"recipe.path\"\n                class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300\">\n                <NuxtLink :to=\"recipe.path\" class=\"block h-full\">\n                    <img v-if=\"recipe.image\" :src=\"recipe.image\" :alt=\"copy.recipeImageAlt\"\n                        class=\"w-full h-48 object-cover\" />\n                    <div class=\"p-5\">\n                        <h2 class=\"text-xl font-semibold mb-2\">\n                            {{ recipe.title }}\n                        </h2>\n                        <p class=\"text-gray-600 text-sm\">\n                            {{ recipe.description }}\n                        </p>\n                    </div>\n                </NuxtLink>\n            </li>\n        </ul>\n\n        <!-- No Results Message -->\n        <div v-if=\"filteredRecipes.length === 0\" class=\"text-center mt-10 text-gray-500\">\n            {{ copy.noResults }}\n        </div>\n    </div>\n</template>\n"],"version":3}