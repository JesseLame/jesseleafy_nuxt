{"version":3,"file":"index-D-qcFk7D.js","sources":["../../../../pages/recipes/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, computed, watchEffect } from 'vue'\n\nconst { data: recipes } = await useAsyncData('recipeData', () => {\n    return queryCollection('recipes').all()\n})\n\nconst searchQuery = ref('')\nconst activeCategory = ref<string | null>(null)\n\n// Use function declarations so we can call them anywhere\nfunction extractLanguagesFromPath(path: string) {\n    const parts = path.split('/')\n    const language = parts[2] // Assuming the first part is empty due to leading '/'\n    return language\n}\n\nfunction extractCategories(recipes: any[]) {\n    const categoriesSet = new Set<string>()\n    recipes.forEach((recipe: any) => {\n        if (recipe.category) {\n            categoriesSet.add(recipe.category)\n        }\n    })\n\n    console.log('Extracted categories:', Array.from(categoriesSet));\n    const categoriesArray = Array.from(categoriesSet);\n    // Add display names to the categories if needed\n\n    return Array.from(categoriesSet)\n}\n\nconst categories = computed(() => extractCategories(recipes.value || []))\n\nconst filteredRecipes = computed(() => {\n    if (!recipes.value) return []\n\n    return recipes.value.filter((recipe: any) => {\n        const q = searchQuery.value.toLowerCase()\n        const language = extractLanguagesFromPath(recipe.path)\n\n        const matchesSearch =\n            !q ||\n            recipe.title?.toLowerCase().includes(q) ||\n            recipe.description?.toLowerCase().includes(q) ||\n            recipe.tags?.some((tag: string) => tag.toLowerCase().includes(q))\n\n        const matchesCategory =\n            !activeCategory.value || recipe.category === activeCategory.value\n\n        return matchesSearch && matchesCategory && language === 'en'\n    })\n})\n\nwatchEffect(() => {\n    useSeoMeta({\n        title: \"Jesse's Leafy Feasts - All Recipes\",\n        description:\n            'Explore a collection of delicious plant-based recipes that celebrate fresh flavors and nourishing greens. Dive into seasonal delights and leafy goodness served with love.'\n    })\n})\n</script>\n\n<template>\n    <div class=\"max-w-6xl mx-auto px-4 py-10\">\n        <h1 class=\"text-3xl font-bold mb-6 text-center\">All Recipes</h1>\n\n        <!-- Search Box -->\n        <div class=\"mb-4 max-w-md mx-auto\">\n            <input v-model=\"searchQuery\" type=\"text\" placeholder=\"Search recipes...\"\n                class=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:border-blue-300\" />\n        </div>\n\n        <!-- Category Buttons -->\n        <div class=\"mb-8 flex flex-wrap gap-2 justify-center\">\n            <button class=\"px-3 py-1 text-sm rounded-full border transition-colors\" :class=\"!activeCategory\n                    ? 'bg-gray-900 text-white border-gray-900'\n                    : 'bg-white text-gray-700 border-gray-300'\n                \" @click=\"activeCategory = null\">\n                All\n            </button>\n\n            <button v-for=\"category in categories\" :key=\"category\"\n                class=\"px-3 py-1 text-sm rounded-full border transition-colors\" :class=\"activeCategory === category\n                        ? 'bg-gray-900 text-white border-gray-900'\n                        : 'bg-white text-gray-700 border-gray-300'\n                    \" @click=\"activeCategory = category\">\n                {{ category }}\n            </button>\n        </div>\n\n        <!-- Recipes Grid -->\n        <ul class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <li v-for=\"recipe in filteredRecipes\" :key=\"recipe.path\"\n                class=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300\">\n                <NuxtLink :to=\"recipe.path\" class=\"block h-full\">\n                    <img v-if=\"recipe.image\" :src=\"recipe.image\" alt=\"Recipe image\" class=\"w-full h-48 object-cover\" />\n                    <div class=\"p-5\">\n                        <h2 class=\"text-xl font-semibold mb-2\">\n                            {{ recipe.title }}\n                        </h2>\n                        <p class=\"text-gray-600 text-sm\">\n                            {{ recipe.description }}\n                        </p>\n                    </div>\n                </NuxtLink>\n            </li>\n        </ul>\n\n        <!-- No Results Message -->\n        <div v-if=\"filteredRecipes.length === 0\" class=\"text-center mt-10 text-gray-500\">\n            No recipes found.\n        </div>\n    </div>\n</template>\n"],"names":["_withAsyncContext","recipes","_ssrRenderAttrs","_mergeProps","_ssrRenderList","_ssrRenderClass","_push","_parent","_ssrInterpolate","_createBlock","_createVNode","_toDisplayString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAGA,UAAM,EAAE,MAAM,QAAQ,KAAI,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,aAAa,cAAc,MAAM;AACtD,aAAA,gBAAgB,SAAS,EAAE,IAAI;AAAA,IAAA,CACzC,CAAA;AAEK,UAAA,cAAc,IAAI,EAAE;AACpB,UAAA,iBAAiB,IAAmB,IAAI;AAG9C,aAAS,yBAAyB,MAAc;AACtC,YAAA,QAAQ,KAAK,MAAM,GAAG;AACtB,YAAA,WAAW,MAAM,CAAC;AACjB,aAAA;AAAA,IAAA;AAGX,aAAS,kBAAkBC,UAAgB;AACjC,YAAA,oCAAoB,IAAY;AACtCA,eAAQ,QAAQ,CAAC,WAAgB;AAC7B,YAAI,OAAO,UAAU;AACH,wBAAA,IAAI,OAAO,QAAQ;AAAA,QAAA;AAAA,MACrC,CACH;AAED,cAAQ,IAAI,yBAAyB,MAAM,KAAK,aAAa,CAAC;AACtC,YAAM,KAAK,aAAa;AAGzC,aAAA,MAAM,KAAK,aAAa;AAAA,IAAA;AAG7B,UAAA,aAAa,SAAS,MAAM,kBAAkB,QAAQ,SAAS,CAAA,CAAE,CAAC;AAElE,UAAA,kBAAkB,SAAS,MAAM;AACnC,UAAI,CAAC,QAAQ,MAAO,QAAO,CAAC;AAE5B,aAAO,QAAQ,MAAM,OAAO,CAAC,WAAgB;;AACnC,cAAA,IAAI,YAAY,MAAM,YAAY;AAClC,cAAA,WAAW,yBAAyB,OAAO,IAAI;AAE/C,cAAA,gBACF,CAAC,OACD,YAAO,UAAP,mBAAc,cAAc,SAAS,SACrC,YAAO,gBAAP,mBAAoB,cAAc,SAAS,SAC3C,YAAO,SAAP,mBAAa,KAAK,CAAC,QAAgB,IAAI,YAAY,EAAE,SAAS,CAAC;AAEnE,cAAM,kBACF,CAAC,eAAe,SAAS,OAAO,aAAa,eAAe;AAEzD,eAAA,iBAAiB,mBAAmB,aAAa;AAAA,MAAA,CAC3D;AAAA,IAAA,CACJ;AAED,gBAAY,MAAM;AACH,iBAAA;AAAA,QACP,OAAO;AAAA,QACP,aACI;AAAA,MAAA,CACP;AAAA,IAAA,CACJ;;;mBAIQC,eAAAC,WAAA,EAAA,OAAM,kCAA8B,MAAA,CAAA,qIAKjB,YAAW,KAAA;SAMsD,eAAc;;;AAOpEC,oBAAA,WAAA,QAAZ,aAAQ;gCACqDC,eAAA;AAAA,UAAA,eAAA,UAAmB;;8BAIxF,QAAQ;;;AAMMD,oBAAA,gBAAA,QAAV,WAAM;;;UAEF,IAAI,OAAO;AAAA,UAAM,OAAM;AAAA,QAAA;2BAAlC,CAUW,GAAAE,QAAAC,UAAA,aAAA;;AATI,kBAAA,OAAO,OAAK;4CAAG,OAAK,OAAO,KAAK;;;;sGAGhCC,eAAA,OAAO,KAAK,qDAGZA,eAAA,OAAO,WAAW;;;gBANlB,OAAO,sBAAlBC,YAAmG,OAAA;AAAA;kBAAzE,KAAK,OAAO;AAAA,kBAAO,KAAI;AAAA,kBAAe,OAAM;AAAA,gBAAA;gBACtEC,YAOM,OAAA,EAPD,OAAM,SAAK;AAAA,kBACZA,YAEK,QAFD,OAAM,6BAAA,GACHC,gBAAA,OAAO,KAAK,GAAA,CAAA;AAAA,kBAEnBD,YAEI,OAFD,OAAM,2BACFC,gBAAA,OAAO,WAAW,GAAA,CAAA;AAAA;;;;;;;;;AAQ9B,UAAA,gBAAA,MAAgB,WAAM,GAAA;;;;;;;;;;;;;;;"}